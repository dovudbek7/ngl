{% extends 'base.html' %}
{% block title %}Xabarlar{% endblock %}
{% block content %}
<style>
    .message-list {
        display: flex;
        flex-direction: column;
        gap: 15px;
        margin-top: 20px;
        max-height: 600px;
        overflow-y: auto;

    }

    .message-list::-webkit-scrollbar {
        display: none;
    }

    /* @media screen and (max-width: 600px) {
    .message-list {
        max-height: 400px;
    }
} */
    .message-item {
        display: flex;
        align-items: center;
        background: #fff;
        border-radius: 14px;
        padding: 12px 16px;
        color: #111;
        text-decoration: none;
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
        transition: transform 0.2s ease;
    }

    .message-item:hover {
        transform: scale(1.01);
    }

    .message-icon {
        width: 40px;
        height: 40px;
        margin-right: 12px;
    }

    .message-content {
        flex: 1;
        overflow: hidden;
    }

    .message-text {
        font-weight: 600;
        font-size: 1rem;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    .message-date {
        font-size: 0.85rem;
        color: #888;
        margin-top: 4px;
    }

    .message-arrow {
        font-size: 20px;
        color: #bbb;
        margin-left: 10px;
    }

    .m {

        margin-top: 800px;
    }
</style>

<h2 style="text-align:center;">ðŸ“¥ Xabarlar</h2>

<div class="message-list">
    {% for msg in messages %}
    <a href="{% url 'message_detail' msg.pk %}" class="message-item">
        <div class="message-content">
            <div class="message-text">{{ msg.message|truncatechars:40 }}</div>
            <div class="message-date">{{ msg.created_at|timesince }} ago</div>
        </div>
        <div class="message-arrow">â€º</div>
    </a>
    {% empty %}
    <p style="text-align:center;">No messages yet</p>
    {% endfor %}
</div>
{% endblock %}